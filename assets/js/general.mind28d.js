function validForm(e){var t=!0;return $(".err_show").removeClass("active"),$("#"+e+" .input_field").each(function(){$(this).attr("name");$(this).css({"border-bottom":"1px solid #C4C4C4"}).css({visibility:"visible"}),""==$(this).val()&&($(this).parent().find(".err_show.null").addClass("active"),$(this).css({"border-bottom":"2px solid #dc1f26"}).css({visibility:"visible"}),t=!1),""==$(this).val()||"email"!=$(this).attr("name")||isEmail($(this).val())||($(this).parent().find(".err_show.email").addClass("active"),$(this).css({"border-bottom":"2px solid #dc1f26"}).css({visibility:"visible"}),t=!1),""==$(this).val()||"phone"!=$(this).attr("name")||isPhone($(this).val())||($(this).parent().find(".err_show.phone").addClass("active"),$(this).css({"border-bottom":"2px solid #dc1f26"}).css({visibility:"visible"}),t=!1)}),t}function isEmail(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function isPhone(e){return/((09|03|07|08|05)+([0-9]{8})\b)/g.test(e)}function loadingBox(e="open"){"open"==e?$("#loading_box").css({visibility:"visible",opacity:0}).animate({opacity:1},200):$("#loading_box").animate({opacity:0},200,function(){$("#loading_box").css("visibility","hidden")})}function alert_show(e="success",t=""){$("#toast-container .toast").addClass("toast-"+e),$("#toast-container .toast div").text(t),$("#toast-container").css("display","block"),setTimeout(function(){$("#toast-container").css("display","none"),$("#toast-container .toast").removeClass("toast-"+e),$("#toast-container .toast div").text("")},5e3)}function update_url(e){history.pushState(null,null,e)}function pushOrUpdate(e){var t=new URL(window.location.href);$.each(e,function(e,o){t.searchParams.set(e,o)});update_url(t.href)}function getUrlParameter(e,t){var o=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null==o?null:decodeURI(o[1])||null}function checkEmpty(e){return null==e||("null"==e||(void 0==e||(""==e||e==[])))}function loadAjaxGetPaginate(e,t,o){checkEmpty(o)&&(o="progress");var a={beforeSend:function(){},success:function(e){},error:function(e){}};$.extend(a,t),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:e,beforeSend:function(){loadingBox("open")},success:function(e){loadingBox("close"),a.success(e)},error:function(e){loadingBox("close"),alert_show("error",$("#loading_box").data("error")),a.error(e)}})}function loadData(e="progress"){loadAjaxGetPaginate(window.location.href,{beforeSend:function(){},success:function(e){$("#listdata").empty(),$("#listdata").append(e.html),e.pagination&&""!=e.pagination&&($(".perpage, .pagint").empty(),$(".perpage, .pagint").append(e.pagination)),lazyload()},error:function(e){}},e)}function register(e){if(1==validForm(e)){var t=$("#"+e).find("input[name=name]").val(),o=$("#"+e).find("input[name=email]").val(),a=$("#"+e).find("input[name=phone]").val(),s=$("#"+e).find("textarea[name=content]").val();$.ajax({url:"/ajax/register",method:"POST",data:{name:t,email:o,phone:a,content:s},dataType:"json",beforeSend:function(){loadingBox("open")},success:function(t){loadingBox("close"),1==t.status?(alert_show("success",t.message),$("#"+e+" .form-control").val(""),$("#"+e+" .input_field").val(""),$("#"+e+" .form-control").css({"border-bottom":"1px solid #ccc"}),senderSuccess()):alert_show("error",t.message)},error:function(e){loadingBox("close"),alert_show("error",$("#loading_box").data("error"))}})}}function tabs(e,t,o){$("ul."+e+" li:first a").addClass("active").fadeIn(),$("."+t+":first").addClass(o),$("ul."+e+" li").on("click",function(o){o.preventDefault(),$("ul."+e+" li a").removeClass("active"),$(this).find("a").addClass("active");var a=$(this).find("a").attr("href");$("."+t).removeClass("active"),$(a).addClass("active")})}function senderSuccess(){$("#sender-success").addClass("active")}function formComment(e){if(validForm(e)){var t=$("#"+e+' input[name="name"]').val(),o=$("#"+e+' textarea[name="content"]').val(),a=$("#"+e+' input[name="type"]').val(),s=$("#"+e+' input[name="type_id"]').val(),i=$("#"+e+' input[name="_token"]').val(),n=$("#"+e+' input[name="saveInfor"]:checked').val(),l=$("#"+e+' input[name="data_id"]').val(),r={name:t,content:o,type_id:s,type:a,token:i,checked:n,data_id:l};$.ajax({method:"POST",url:"/ajax/formComment",dataType:"json",data:r,beforeSend:function(){loadingBox("open")},success:function(t){setTimeout(function(){loadingBox("close")},800),alert_show(t.type,t.message),0==t.status&&($("#"+e+' input[name="name"]').css({"border-bottom":"2px solid #dc1f26"}).css({visibility:"visible"}),$("#"+e+' textarea[name="content"]').css({"border-bottom":"2px solid #dc1f26"}).css({visibility:"visible"})),1!=t.hidden&&($(".comments .total_cmt").val(""),$(".comments .total_cmt").append(t.count),1==t.status&&setTimeout(function(){$(".comments > ul").prepend(t.html),$(".comments > ul .reply").slideUp("slow")},1e3),2==t.status&&setTimeout(function(){console.log(t.html,t.parent_id),$(".comment"+t.parent_id+" .comment-child").prepend(t.html),$(".comments > ul .reply").slideUp("slow")},2e3)),setTimeout(function(){$("#"+e+" input.form-control").val(""),$("#"+e+" textarea.form-control").val("")},3e3)},error:function(e){loadingBox("close"),alert_show(a="error",$("#loading_box").data("error"))}})}return $("#"+e).on("submit",function(e){e.preventDefault()}),!1}function TextToAlias(e){return e?e.replace(/[áàảãạâấầẩẫậăắằẳẵặ]/gi,"a").replace(/[đ]/gi,"d").replace(/[éèẻẽẹêếềểễệ]/gi,"e").replace(/[íìỉĩị]/gi,"i").replace(/[óòỏõọôốồổỗộơớờởỡợ]/gi,"o").replace(/[ýỳỷỹỵ]/gi,"y").replace(/[úùủũụưứừửữự]/gi,"u").replace(/\s+/gi,"-").replace(/[-]+/gi,"-").replace(/^[-]+|[-]+$/gi,"").replace(/[^a-z0-9-]/gi,"").toLowerCase():""}function filText(){var e=$.trim($(".showroom_top__search input").val()).toLowerCase(),t=TextToAlias(e);e.length>0?($(".showroom_item>.showroom_item__detail").each(function(){var o=$(this).text().toLowerCase();-1!=o.indexOf(e)||-1!=TextToAlias(o).indexOf(t)?$(this).parent().css("display","flex"):$(this).parent().css("display","none")}),$(".view-more-filter-left").hide()):($(".showroom_bottom__list> .showroom_item").each(function(){$(this).css("display","")}),$(".view-more-filter-left").show())}function advistory(e){if(1==validForm(e)){var t=$("#"+e).find("input[name=name]").val(),o=$("#"+e).find("input[name=email]").val(),a=$("#"+e).find("input[name=phone]").val(),s=$("#"+e).find("input[name=address]").val(),i=$("#"+e).find("select[name=advistory_id]").val(),n=$("#"+e).find("input[name=type]").val(),l=$("#"+e).find("input[name=type_id]").val(),r=[];let c=h=price=0;$(".parameter_list").length>0&&(c=$('.parameter_list__size input[name="width"]').val(),h=$('.parameter_list__size input[name="height"]').val(),price=$("#price_caculator_value").text(),$("#box-attr .box-attr span").each(function(){r.push($(this).text())})),$.ajax({url:"/ajax/advistory-register",method:"POST",data:{name:t,email:o,phone:a,address:s,advistory_id:i,type:n,type_id:l,width:c,height:h,options:r,price:price},dataType:"json",beforeSend:function(){loadingBox("open")},success:function(t){loadingBox("close"),1==t.status?(alert_show("success",t.message),$("#"+e+" .form-control").val(""),$("#"+e+" .input_field").val(""),$(".popup").removeClass("active"),senderSuccess()):alert_show("error",t.message)},error:function(e){loadingBox("close"),alert_show("error",$("#loading_box").data("error"))}})}}function lazyload(){$.isFunction($.fn.lazyload)&&$(".lazy").lazyload({effect:"fadeIn",threshold:100,failure_limit:20})}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ready(function(){if($(window).outerWidth()>=1200){if($(".adminbar").length>0)e=$(".adminbar").height();else var e=0;if($(".scroll-fixed").length>0){t=$(".header").outerHeight();$(".site_main").css("margin-top",t),$(".header").css("top",e)}else{var t=0;$(".header").css("top",e)}$(window).scroll(function(){if($(this).scrollTop()>100?($(".header").css("top",0),$(".header").addClass("active"),$(".header").removeClass("header_home")):($(".header").css("top",e),$(".header").removeClass("active"),$(".home_page").addClass("header_home")),$(".sitebar_group").length>0){var t=$(this).scrollTop();if(t>900){$(".sitebar_group").removeClass("absolute"),$(".sitebar_group").addClass("fixed"),$(".sitebar_group").css({top:160,bottom:"auto"});t>=$(".footer").offset().top-$(".footer").outerHeight()-200&&($(".sitebar_group").removeClass("fixed"),$(".sitebar_group").addClass("absolute"),$(".sitebar_group").css({top:"auto",bottom:"0"}))}else $(".sitebar_group").removeClass("fixed"),$(".sitebar_group").css({top:"auto",bottom:"auto"}),$(".sitebar_group").removeClass("absolute")}})}else $(".site_main .slide").length>0&&$(window).scroll(function(){var e=$(".introduce").position().top;$(this).scrollTop()>=e?$(".header").removeClass("header_home"):$(".header").addClass("header_home")}),$("body").on("click",".search_open",function(){$(".search-content").slideToggle()}),$("body").on("click",".footer_title",function(){$(this).toggleClass("active"),$(this).parent().find(".footer_menu").slideToggle()}),$("body").on("click",".open_menu",function(e){$("body").css("overflow","hidden"),$(".header_bottom").addClass("active")}),$("body").on("click",".header_bottom .close",function(e){$("body").css("overflow","auto"),$(".header_bottom").removeClass("active")}),$("body").on("click",".is_child > i",function(e){e.preventDefault(),$(this).parent(".is_child").addClass("show")}),$(".back-menu").on("click",function(e){e.preventDefault(),$(this).parents(".is_child").removeClass("show")}),$("body").on("click",".lv1 .is_child i",function(e){$(this).parent().find("> ul").slideToggle()}),$("body").on("click",".open_sidebar",function(e){$("body").css("overflow","hidden"),$(this).parent().find(".sidebar_right").addClass("active")}),$("body").on("click",".sidebar_right .gbk, .sidebar_right .close",function(e){$("body").css("overflow","auto"),$(this).parents(".sidebar_right").removeClass("active")}),setTimeout(function(){var e=($(".constructions_top__right").outerHeight()-$(".list_contruct .owl-carousel .owl-dots").outerHeight())/2;$(".list_contruct .owl-carousel .owl-dots").css({top:e})},200);$("body").on("click",".toc_toggle",function(e){e.preventDefault(),$(this).parents(".mce-toc").hasClass("active")?($(this).parents(".mce-toc").find(".toc_toggle a").text("Hiện"),$(this).parents(".mce-toc").find("ul").slideToggle(),setTimeout(function(){$(".mce-toc").removeClass("active")},300)):($(this).parents(".mce-toc").addClass("active"),$(this).parents(".mce-toc").find(".toc_toggle a").text("Ẩn"),$(this).parents(".mce-toc").find("ul").slideToggle())}),$(".mce-toc h2").append('<span class="toc_toggle">[<a href="#">Hiện</a>] </span>'),$(".mce-toc li a").click(function(e){let t=$(this).attr("href"),o=$(t).position().top-150;$("html, body").animate({scrollTop:o},500)}),$("body").on("click",".perpage .pagination a.page-link",function(e){e.preventDefault();pushOrUpdate({page:getUrlParameter($(this).attr("href"),"page")}),loadData()}),$(".form-control").on("click keyup",function(e){$(this).css({"border-bottom":"1px solid #ccc"}).css({visibility:"visible"}),$(this).parent().find(".err_show").removeClass("active")}),lazyload(),$("body").on("click",".comments .comment .btn-reply",function(e){e.preventDefault();$(this).data("name");$(this).parents("li").find(".reply").slideToggle("slow"),$(this).parents("li").siblings().find(".reply").slideUp("slow")}),$("body").on("click",".loadmore p",function(e){e.preventDefault();var t=$(".loadmore p").data("load"),o=$(".loadmore p").data("type"),a=$(".loadmore p").data("id"),s={id:t,type:o,typeId:a};$.ajax({method:"POST",url:"/ajax/loadComment",dataType:"json",data:s,beforeSend:function(){loadingBox("open")},success:function(e){setTimeout(function(){loadingBox("close")},800),console.log(e.status),"1"==e.status&&setTimeout(function(){$(".loadmore p").remove(),$(".comments > ul").append(e.html)},1e3)},error:function(e){loadingBox("close"),alert_show(o="error","Có lỗi xảy ra, vui lòng thử lại !")}})}),$(".form-control").on("click keyup",function(e){$(this).css({"border-bottom":"1px solid #C4C4C4"}).css({visibility:"visible"}),$(this).parent().find(".err_show").removeClass("active")}),$("body").on("click",".systerms_data li",function(e){e.preventDefault(),$(this).parent().find("li").removeClass("active"),$(this).addClass("active");var t=$(this).data("map");""!=t&&void 0!=t||(t=$(".systerms_map").data("null")),$(".systerms_map").empty(),$(".systerms_map").html(t)}),$("body").on("change",".systerms_select select",function(e){e.preventDefault(),loadingBox("open");var t=parseInt($(this).val());$.ajax({type:"POST",dataType:"json",data:{id:t},url:"/ajax/systerm_load",success:function(e){$(".systerms_data").empty(),$(".systerms_data").html(e.data),""!=e.map&&($(".systerms_map").empty(),$(".systerms_map").html(e.map)),lazyload(),loadingBox("close")},error:function(e){loadingBox("close"),alert_show("error","Có lỗi xảy ra vui lòng thử lại!")}})}),$("body").on("keyup",".showroom_top__search input",function(){filText()}),$(".galleries").length>0&&$(".galleries .owl-carousel").owlCarousel({loop:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,margin:20,dots:!0,nav:!0,lazyLoad:!0,items:1,animateOut:"slideOutUp",animateIn:"slideInUp",navText:['<i class="fal fa-chevron-left"></i>','<i class="fal fa-chevron-right"></i>'],responsive:{0:{items:1},600:{items:2},1e3:{items:3,lazyLoad:!0}}}),$("body").on("click",".more_detail",function(e){e.preventDefault(),$(this).parent().find(".css-content").toggleClass("active"),$(this).css("display","none"),$(this).parent().find(".hide_detail").css("display","block")}),$("body").on("click",".hide_detail",function(e){e.preventDefault(),$(this).parent().find(".css-content").removeClass("active"),$(this).css("display","none"),$(this).parent().find(".more_detail").css("display","block")}),$("body").on("click",".open_advistory",function(e){e.preventDefault(),$("body").addClass("advistory_open"),$("#advistory").addClass("active")}),$("body").on("click",".popup_content__close",function(){$(this).parents(".popup").removeClass("active"),$("body").removeClass("advistory_open")});var o=null;$("body").on("click",".suggest li.active",function(){link=$(this).data("link"),window.location.href=link}),$("body").on("keyup","#sussget_products",function(){var e=$(this).val();console.log(e);var t={keyword:e,lang:$(this).parent().find("input[name=lang]").val()};clearTimeout(o),e.length>0?o=setTimeout(function(){$(".loading-suggest").css("opacity","1"),$.ajax({type:"POST",data:t,url:"/ajax/sussget_data",success:function(e){1==e.status&&($(".suggest ul").empty(),$(".suggest ul").append(e.html),$(".suggest").css("display","block"))}})},500):$(".suggest").css("display","none")}),$(".list_related").length<=0&&$(".product_item").each(function(){if(!$(this).hasClass("category")){var e=$(this).find(".product_item__image img").width();$(this).find("img").css({height:e,"max-height":e})}})}),$(document).mouseup(function(e){}),$(document).mouseup(function(e){var t=$(".suggest ul");t.is(e.target)||0!==t.has(e.target).length||t.closest(".suggest").fadeOut()});